# 12期生アプリ（gen12）の現状分析

## 概要
12期生が作成した家計簿アプリ「C5 Wallet」の現状を分析したドキュメントです。

**重要**: `gen12/`は**参考アプリ**です。実際の開発は`frontend/`と`backend/`で行います。gen12の機能や構造を参考にしながら、11期レベルの技術で再構築します。

## アプリケーション構成

### 技術スタック
- **バックエンド**: FastAPI
- **フロントエンド**: HTML + JavaScript（バニラJS）
- **データストレージ**: CSVファイル（`data.csv`）
- **AI機能**: OpenAI API（gpt-4.1-mini）を使用したコーチング機能

### ディレクトリ構造
```
gen12/
├── main.py          # FastAPIアプリケーション
├── index.html       # フロントエンド（HTML）
├── style.css        # スタイルシート
├── data.csv         # データストレージ（CSV）
├── requirements.txt # Python依存関係
├── README           # アプリの説明書
└── .gitignore       # Git除外設定
```

## 機能一覧

### 1. データ登録機能
- **エンドポイント**: `POST /add`
- **機能**: ユーザー名、アイテム名、金額をCSVファイルに保存
- **データ形式**: `user, timestamp, item, price`

### 2. 分析機能
- **エンドポイント**: `GET /analyze?user={user}&coach={coach}`
- **機能**: 
  - 指定ユーザーの合計金額を計算
  - AIコーチング機能（鬼コーチ/天使コーチ）
  - 目標支出額（20000円）との比較
- **コーチタイプ**:
  - `oni`: 鬼コーチ（厳しい指導）
  - `tenshi`: 天使コーチ（優しい指導）

### 3. 履歴表示機能
- **UI**: 「履歴を見る」ボタン（実装状況要確認）

## 現状の課題と改善ポイント

### 技術的な課題
1. **データストレージ**: CSVファイルを使用（スケーラビリティの問題）
2. **型安全性**: Pythonの型ヒントは一部使用されているが、フロントエンドは型なし
3. **エラーハンドリング**: 基本的なエラーハンドリングのみ
4. **UI/UX**: シンプルなHTML/CSS（モダンなUI/UXの余地あり）

### 改善の方向性（11期レベルへの引き上げ）
1. **型安全性の向上**
   - フロントエンド: TypeScript導入
   - バックエンド: Pydanticモデルの強化
   
2. **データベース化**
   - CSVからデータベース（SQLite/PostgreSQL）への移行
   - ORM（SQLAlchemy）の導入
   
3. **モダンなフロントエンド**
   - React/Next.jsへの移行
   - レスポンシブデザイン
   - 洗練されたUI/UX
   
4. **AI駆動ワークフロー**
   - Cursor/GitHub MCPを活用した開発フロー
   - 自動テストの導入
   - CI/CDパイプライン

5. **コード品質の向上**
   - エラーハンドリングの強化
   - ロギング機能
   - APIドキュメント（Swagger/OpenAPI）

## データ構造

### CSV形式
```csv
user,timestamp,item,price
test,2026-01-17,本,1500
test2,2026-01-17,お菓子,300
test,2026-01-17,交通費,500
```

### データモデル（現状）
- **user**: ユーザー名（文字列）
- **timestamp**: 日付（YYYY-MM-DD形式）
- **item**: アイテム名（文字列）
- **price**: 金額（整数）

## 次のステップ
1. 要件定義の確定（Sprint 0）
2. UI/UXデザインの確定（Sprint 0）
3. 技術スタックの選定
4. 開発タスクの分割（Sprint 1以降）

---
*最終更新: 2026年1月28日*
